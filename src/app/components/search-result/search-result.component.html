<div
	*ngIf="loading"
	class="d-flex justify-content-center align-items-center opacity-50 position-absolute"
	style="
		width: 100vw;
		height: 100svh;
		z-index: 10000;
		background-color: black;
	"
>
	<div class="spinner-border" role="status">
		<span class="visually-hidden">Loading...</span>
	</div>
</div>

<div id="wrapper" *ngIf="!loading">
	<div id="main-container" class="p-3">
		<h1 class="mt-3 mb-4" *ngIf="searchResult.length !== 0">Risultati</h1>
		<h1 class="text-center mt-3 mb-4" *ngIf="searchResult.length === 0">
			La ricerca non ha prodotto risultati
		</h1>

		<div class="d-none d-lg-block mb-4">
			<button class="btn purple-btn text-light me-2" (click)="onCancel()">
				<i class="me-1 bi bi-arrow-left"></i>
				Torna Indietro
			</button>
			<button class="btn btn-dark ms-2" routerLink="/home">
				Torna alla home
				<i class="ms-1 bi bi-house-fill"></i>
			</button>
		</div>

		<div class="d-block d-lg-none mb-4">
			<button
				class="btn btn-sm purple-btn text-light me-2"
				(click)="onCancel()"
			>
				<i class="me-1 bi bi-arrow-left"></i>
				Indietro
			</button>
			<button class="btn btn-sm btn-dark ms-2" routerLink="/home">
				Home
				<i class="bi bi-house-fill"></i>
			</button>
		</div>

		<img
			*ngIf="searchResult.length === 0"
			src="assets/search-not-found.svg"
			style="width: 50%"
			alt="No results found"
			class="mt-5"
		/>

		<div
			*ngFor="let user of searchResult; index as i"
			class="d-flex justify-content-between align-items-center w-100"
		>
			<div
				class="rounded-5 py-1 px-2 d-flex justify-content-between align-items-center mb-3 me-1 w-100 user"
				(click)="viewProfile(i)"
				style="cursor: pointer"
			>
				<div
					class="avatar d-flex justify-content-between align-items-center"
				>
					<img
						src="assets/profile.png"
						width="30px"
						alt="profile-pic"
					/>
					<p class="mb-0 ms-3">{{ user.username }}</p>
				</div>
			</div>

			<button
				class="btn rounded-5 mb-3 ms-1 user d-flex justify-content-center align-items-center"
				(click)="onFollow(i)"
				style="width: 38px; height: 38px; border: none"
			>
				<i class="bi bi-person-plus-fill"></i>
			</button>
		</div>
	</div>
</div>
